var rsepro_timer;function isset () {    // http://kevin.vanzonneveld.net    // +   original by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)    // +   improved by: FremyCompany    // +   improved by: Onno Marsman    // +   improved by: Rafa≈Ç Kukawski    // *     example 1: isset( undefined, true);    // *     returns 1: false    // *     example 2: isset( 'Kevin van Zonneveld' );    // *     returns 2: true    var a = arguments,        l = a.length,        i = 0,        undef;    if (l === 0) {        throw new Error('Empty isset');    }    while (i !== l) {        if (a[i] === undef || a[i] === null) {            return false;        }        i++;    }    return true;}function rseproMap() {	if ($('mapContainer').getStyle('display') == 'none') {		$('mapContainer').setStyle('display','');		map_initialize();	} else {		$('mapContainer').setStyle('display','none');	}}function rspagination(view, limitstart, rscontainer) {	var params = '';		if (rscontainer)		$('rsepro_loadmore_'+rscontainer).className = "rsepromore_active";	else $('rsepro_loadmore').className = "rsepromore_active";	if (rscontainer) {		var total = 0;		if (isset($('rseprocontainer_past')))		total += $('rseprocontainer_past').getElements('tr').length - 1;		if (isset($('rseprocontainer_ongoing')))	total += $('rseprocontainer_ongoing').getElements('tr').length - 1;		if (isset($('rseprocontainer_thisweek')))	total += $('rseprocontainer_thisweek').getElements('tr').length - 1;		if (isset($('rseprocontainer_thismonth')))	total += $('rseprocontainer_thismonth').getElements('tr').length - 1;		if (isset($('rseprocontainer_nextmonth')))	total += $('rseprocontainer_nextmonth').getElements('tr').length - 1;		if (isset($('rseprocontainer_upcoming')))	total += $('rseprocontainer_upcoming').getElements('tr').length - 1;				params = '&type=' + rscontainer + '&total=' + total;	}		var req = new Request({		method: 'post',		url: 'index.php?option=com_rseventspro',		data: 'view=' + view + '&layout=items&lstart=' + limitstart + params,		onSuccess: function(responseText, responseXML) {			var response = responseText;			var start = response.indexOf('RS_DELIMITER0') + 13;			var end = response.indexOf('RS_DELIMITER1');			response = response.substring(start, end);			var code = response.toDOM();						if (rscontainer) {				for (i=0; i< code.length; i++)					$('rseprocontainer_'+rscontainer).appendChild(code[i]);								$('rsepro_loadmore_'+rscontainer).className = "rsepromore_inactive";				if (($('rseprocontainer_'+rscontainer).getElements('tr').length - 1) >= $('total_'+rscontainer).value)					$(rscontainer).style.display = 'none';			} else {				for (i=0; i< code.length; i++)					$('rseprocontainer').appendChild(code[i]);								$('rsepro_loadmore').className = "rsepromore_inactive";				if ( ($('rseprocontainer').getElements('tr').length) >= $('total').value) $('rsepro_loadmore').style.display = 'none';			}		}	});	req.send();}function addRule(err1, err2, msg) {	if ($('status').value == 1 && $('rule').value == 1 || $('status').value == 2 && $('rule').value == 2) {		alert(err1);		return;	}		if ($('rule').value == 4 && $('mid').value == 0) {		alert(err2);		return;	}		$('loader').style.display = '';	params = '&status=' + $('status').value + '&interval=' + $('interval').value + '&rule=' + $('rule').value + '&mid=' + $('mid').value;		var req = new Request({		method: 'post',		url: 'index.php?option=com_rseventspro',		data: 'task=saverule&payment=' + $('payment').value + params,		onSuccess: function(responseText, responseXML) {			var response = responseText;			var start = response.indexOf('RS_DELIMITER0') + 13;			var end = response.indexOf('RS_DELIMITER1');			response = response.substring(start, end);						if (response) {				elements = $('rseprocontainer').getElements('tr').length;								// Create the table row				var thetr = new Element('tr', {'class': 'row'+(elements % 2)});								// Create the first table column				var thetd1 = new Element('td', {'class': 'center hidden-phone'});				var theinp = new Element('input', {'type': 'checkbox', 'onclick' : 'Joomla.isChecked(this.checked);', 'name': 'cid[]', 'id': 'cb'+elements, 'value': response});				theinp.inject(thetd1);								// Create the second table column				var thetd2 = new Element('td', {'class': 'nowrap has-context'});				var message = $('message1').innerHTML + ' <b>' + $('payment').getSelected().get('text') + '</b> ' + $('message2').innerHTML + ' <b>' + $('status').getSelected().get('text') + '</b> ' + $('message3').innerHTML + ' <b>' + $('interval').value + '</b> ' + $('message4').innerHTML + ' <b>' + $('rule').getSelected().get('text') + '</b>';								if ($('rule').value == 4)					message += ' <b>('+ $('email').innerHTML +')</b>';								thetd2.innerHTML = message;								// Create the third table column				var thetd3 = new Element('td', {'class': 'center hidden-phone', 'html': response});								thetd1.inject(thetr);				thetd2.inject(thetr);				thetd3.inject(thetr);				thetr.inject($('rseprocontainer'));								$('mid').value = 0;				$('email').innerHTML = msg;				$('loader').style.display = 'none';			}		}	});	req.send();}function addSubscriberTickets() {	var quantity = $('quantity').value;	var ticket = $('ticket').value;	var container = $('ticketscontainer');		if (ticket == 0) {		alert(Joomla.JText._('COM_RSEVENTSPRO_SUBSCRIBER_PLEASE_SELECT_TICKET'));		return;	}		var req = new Request({		method: 'post',		url: 'index.php?option=com_rseventspro',		data: 'task=checkticket&id=' + ticket,		onSuccess: function(responseText, responseXML) {			var response = responseText;			var start = response.indexOf('RS_DELIMITER0') + 13;			var end = response.indexOf('RS_DELIMITER1');			response = response.substring(start, end);						if ($('jform_ide').value == 0) {				$('jform_ide').value = response;			} else {				if ($('jform_ide').value != response) {					alert(Joomla.JText._('COM_RSEVENTSPRO_SUBSCRIBER_PLEASE_SELECT_TICKET_FROM_EVENT'));					return;				}			}						if (isset($('ticketq'+ticket))) {				$('ticketq'+ticket).innerHTML = parseInt($('ticketq'+ticket).innerHTML) + parseInt(quantity);				$('ticketv'+ticket).value = parseInt($('ticketv'+ticket).value) + parseInt(quantity);			} else {				container.innerHTML += '<span id="ticketq'+ ticket +'">' + quantity + '</span> x ' + $('ticket').options[$('ticket').selectedIndex].text + '<br />';				input = new Element('input', {					'type' : 'hidden',					'name' : 'tickets['+ ticket +']',					'id' : 'ticketv'+ ticket,					'value' : quantity				});				input.inject($('ticketshidden'));							}						$('cleartickets').style.display = '';		}	});	req.send();	}function clearTickets() {	$('ticketscontainer').innerHTML = '';	$('ticketshidden').innerHTML = '';	$('cleartickets').style.display = 'none';	$('jform_ide').value = 0;}function rs_stop() {	clearTimeout(rsepro_timer);}function rs_search() {	if ($('filter_from').value == 'description') return;	if ($('search').value == '') return;		var position = $('search').getPosition();		$('rs_results').style.top = (navigator.appVersion.indexOf('MSIE 7.') != -1) ? (position.y + 25) + 'px' : (position.y + 14) + 'px';	$('rs_results').style.left = (navigator.appVersion.indexOf('MSIE 7.') != -1) ? (position.x - 38) + 'px' : position.x + 'px';		rsepro_timer = setTimeout( function() {		var req = new Request({			method: 'post',			url: 'index.php?option=com_rseventspro',			data: 'task=filter&type=' + $('filter_from').value + '&search=' + $('search').value + '&condition=' + $('filter_condition').value,			onSuccess: function(responseText, responseXML) {				var response = responseText;				var start = response.indexOf('RS_DELIMITER0') + 13;				var end = response.indexOf('RS_DELIMITER1');				response = response.substring(start, end);								if (response != '') {					$('rs_results').innerHTML = response;					$('rs_results').style.display = 'block';				} else $('rs_results').style.display = 'none';			}		});		req.send();	}, 1000);}function rs_add_loc() {	if (isset($('rs_location_window'))) {		$('rs_location_window').reveal({duration: 'short'});		$('rs_new_location').innerHTML = $('rs_location').value;	}}function rsepro_change_list(val) {	if ($('jform_params_archived').getParent().getParent().hasClass('control-group')) {		$('jform_params_archived').getParent().getParent().style.display = 'none';		$('jform_params_days').getParent().getParent().style.display = 'none';				if (val == 'all')			$('jform_params_archived').getParent().getParent().style.display = '';		else if (val == 'future')			$('jform_params_days').getParent().getParent().style.display = '';	} else {		$('jform_params_archived').getParent().style.display = 'none';		$('jform_params_days').getParent().style.display = 'none';				if (val == 'all')			$('jform_params_archived').getParent().style.display = '';		else if (val == 'future')			$('jform_params_days').getParent().style.display = '';	}}function rs_ideal(val) {	if ($('jform_ideal_account').getParent().getParent().hasClass('control-group')) {		$('jform_ideal_merchantid').getParent().getParent().style.display = '';		$('jform_ideal_subid').getParent().getParent().style.display = '';		$('jform_ideal_hashkey').getParent().getParent().style.display = '';		$('jform_ideal_abnamroid').getParent().getParent().style.display = '';		$('jform_ideal_ing_cer').getParent().getParent().style.display = '';		$('jform_ideal_ing_pem').getParent().getParent().style.display = '';		$('jform_ideal_rabo_cer').getParent().getParent().style.display = '';		$('jform_ideal_rabo_pem').getParent().getParent().style.display = '';				if (val == 'mollie') {			$('jform_ideal_subid').getParent().getParent().style.display = 'none';			$('jform_ideal_hashkey').getParent().getParent().style.display = 'none';			$('jform_ideal_abnamroid').getParent().getParent().style.display = 'none';			$('jform_ideal_ing_cer').getParent().getParent().style.display = 'none';			$('jform_ideal_ing_pem').getParent().getParent().style.display = 'none';			$('jform_ideal_rabo_cer').getParent().getParent().style.display = 'none';			$('jform_ideal_rabo_pem').getParent().getParent().style.display = 'none';		} else if (val == 'ingbasic' || val == 'rabobanklite') {			$('jform_ideal_abnamroid').getParent().getParent().style.display = 'none';			$('jform_ideal_ing_cer').getParent().getParent().style.display = 'none';			$('jform_ideal_ing_pem').getParent().getParent().style.display = 'none';			$('jform_ideal_rabo_cer').getParent().getParent().style.display = 'none';			$('jform_ideal_rabo_pem').getParent().getParent().style.display = 'none';		} else if (val == 'ingadvanced') {			$('jform_ideal_abnamroid').getParent().getParent().style.display = 'none';			$('jform_ideal_rabo_cer').getParent().getParent().style.display = 'none';			$('jform_ideal_rabo_pem').getParent().getParent().style.display = 'none';		} else if (val == 'rabobankpro') {			$('jform_ideal_abnamroid').getParent().getParent().style.display = 'none';			$('jform_ideal_ing_cer').getParent().getParent().style.display = 'none';			$('jform_ideal_ing_pem').getParent().getParent().style.display = 'none';		} else if (val == 'abnamroeasy') {			$('jform_ideal_merchantid').getParent().getParent().style.display = 'none';			$('jform_ideal_subid').getParent().getParent().style.display = 'none';			$('jform_ideal_hashkey').getParent().getParent().style.display = 'none';			$('jform_ideal_ing_cer').getParent().getParent().style.display = 'none';			$('jform_ideal_ing_pem').getParent().getParent().style.display = 'none';			$('jform_ideal_rabo_cer').getParent().getParent().style.display = 'none';			$('jform_ideal_rabo_pem').getParent().getParent().style.display = 'none';		} else if (val == 'targetpay') {			$('jform_ideal_subid').getParent().getParent().style.display = 'none';			$('jform_ideal_hashkey').getParent().getParent().style.display = 'none';			$('jform_ideal_abnamroid').getParent().getParent().style.display = 'none';			$('jform_ideal_ing_cer').getParent().getParent().style.display = 'none';			$('jform_ideal_ing_pem').getParent().getParent().style.display = 'none';			$('jform_ideal_rabo_cer').getParent().getParent().style.display = 'none';			$('jform_ideal_rabo_pem').getParent().getParent().style.display = 'none';		}	} else {		$('jform_ideal_merchantid').getParent().style.display = '';		$('jform_ideal_subid').getParent().style.display = '';		$('jform_ideal_hashkey').getParent().style.display = '';		$('jform_ideal_abnamroid').getParent().style.display = '';		$('jform_ideal_ing_cer').getParent().style.display = '';		$('jform_ideal_ing_pem').getParent().style.display = '';		$('jform_ideal_rabo_cer').getParent().style.display = '';		$('jform_ideal_rabo_pem').getParent().style.display = '';				if (val == 'mollie') {			$('jform_ideal_subid').getParent().style.display = 'none';			$('jform_ideal_hashkey').getParent().style.display = 'none';			$('jform_ideal_abnamroid').getParent().style.display = 'none';			$('jform_ideal_ing_cer').getParent().style.display = 'none';			$('jform_ideal_ing_pem').getParent().style.display = 'none';			$('jform_ideal_rabo_cer').getParent().style.display = 'none';			$('jform_ideal_rabo_pem').getParent().style.display = 'none';		} else if (val == 'ingbasic' || val == 'rabobanklite') {			$('jform_ideal_abnamroid').getParent().style.display = 'none';			$('jform_ideal_ing_cer').getParent().style.display = 'none';			$('jform_ideal_ing_pem').getParent().style.display = 'none';			$('jform_ideal_rabo_cer').getParent().style.display = 'none';			$('jform_ideal_rabo_pem').getParent().style.display = 'none';		} else if (val == 'ingadvanced') {			$('jform_ideal_abnamroid').getParent().style.display = 'none';			$('jform_ideal_rabo_cer').getParent().style.display = 'none';			$('jform_ideal_rabo_pem').getParent().style.display = 'none';		} else if (val == 'rabobankpro') {			$('jform_ideal_abnamroid').getParent().style.display = 'none';			$('jform_ideal_ing_cer').getParent().style.display = 'none';			$('jform_ideal_ing_pem').getParent().style.display = 'none';		} else if (val == 'abnamroeasy') {			$('jform_ideal_merchantid').getParent().style.display = 'none';			$('jform_ideal_subid').getParent().style.display = 'none';			$('jform_ideal_hashkey').getParent().style.display = 'none';			$('jform_ideal_ing_cer').getParent().style.display = 'none';			$('jform_ideal_ing_pem').getParent().style.display = 'none';			$('jform_ideal_rabo_cer').getParent().style.display = 'none';			$('jform_ideal_rabo_pem').getParent().style.display = 'none';		} else if (val == 'targetpay') {			$('jform_ideal_subid').getParent().style.display = 'none';			$('jform_ideal_hashkey').getParent().style.display = 'none';			$('jform_ideal_abnamroid').getParent().style.display = 'none';			$('jform_ideal_ing_cer').getParent().style.display = 'none';			$('jform_ideal_ing_pem').getParent().style.display = 'none';			$('jform_ideal_rabo_cer').getParent().style.display = 'none';			$('jform_ideal_rabo_pem').getParent().style.display = 'none';		}	}}